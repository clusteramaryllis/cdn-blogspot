!!! xml
!!! strict
html(xmlns='http://www.w3.org/1999/xhtml', xmlns:b='http://www.google.com/2005/gml/b', xmlns:data='http://www.google.com/2005/gml/data', xmlns:expr='http://www.google.com/2005/gml/expr')
  head
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    b:include(data='blog', name='all-head-content')/
    title
      <data:blog.pageTitle/>
    b:skin
    link(href='//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.no-icons.min.css', rel='stylesheet')
    link(href='//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.min.css' rel='stylesheet')
    b:include(data='blog', name='google-analytics')/
    script(type='text/javascript').
      var ClusterAmaryllis = (function(){
        return {
          db: {
            cloudLabel: {}
          },
          fn: {
            getRandomColor: function() {
              var letters = '0123456789ABCDEF'.split(''),
                color = '#';

              for (var i=0; i<6; i++) {
                color += letters[Math.round(Math.random() * 15)];
              }
            }
          }
        }
      })();
  body.clusteramaryllis
    //- header-section
    header#header.visible-md.visible-lg
      div.container
        b:section#blog-header.row(growth='horizontal', maxwidgets='2', showaddelement='no')
          b:widget#Header1(locked='true', title='Cluster Amaryllis (Header)', type='Header')
            b:includable#main
              div.col-md-4
                b:if(cond='data:useImage')
                  b:if(cond='data:imagePlacement == "BEHIND"')
                    div(expr:style='"background: url(\\\""+ data:source +"\\\") top left no-repeat;"')
                      h1(style='background: transparent; border-width: 0')
                        b:include(name='title')/
                      p(style='background: transparent; border-width: 0')
                        b:include(name='description')/
                    b:else()/
                    b:include(name='image')/
                    b:if(cond='data:imagePlacement == "BEFORE_DESCRIPTION"')
                      p <b:include name='description'/>
                  b:else()/
                  h1 
                    b:include(name='title')/
                  p 
                    b:include(name='description')/
            b:includable#description
              data:description()/
            b:includable#image
              b:if(cond='data:blog.url == data:blog.homepageUrl')
                img(expr:alt='data:title', expr:id='data:widget.instanceId + "_headerimg"', expr:src='data:sourceUrl')
                b:else()/
                a(expr:href='data:blog.homepageUrl')
                  img(expr:alt='data:title', expr:id='data:widget.instanceId + "_headerimg"', expr:src='data:sourceUrl')
            b:includable#title
              b:if(cond='data:blog.url == data:blog.homepageUrl')
                data:title()/
                b:else()/
                a(expr:href='data:blog.homepageUrl')
                  data:title()/
    //- navbar-section
    div.container
      b:section#navigation.navbar.navbar-inverse(growth='horizontal', maxwidgets='1', showaddelement='no')
        b:widget#PageList1(locked='true', title='Navigation', type='PageList')
          b:includable#main
            div.navbar-header
              button.navbar-toggle(type='button', data-toggle='collapse', data-target='.navbar-ex1-collapse')
                span.sr-only Toggle navigation
                - for (var x=0; x<3; x++)
                  span.icon-bar
              a.navbar-brand.hidden-md.hidden-lg(expr:href='data:blog.homepageUrl')
                <data:blog.title/>
            div.collapse.navbar-collapse.navbar-ex1-collapse
              ul.nav.navbar-nav
                b:loop(values='data:links', var='link')
                  b:if(cond='data:link.isCurrentPage')
                    li.active
                      a(expr:href='data:link.href')
                        <data:link.title/>
                    b:else()/
                    li
                      a(expr:href='data:link.href')
                        <data:link.title/>
              form.navbar-form.navbar-right(action='/search', method='get', role='search')
                div.form-group
                  input.form-control(type='text', name='q', placeholder='Search')
                button.btn.btn-default(type='submit') Submit
    //- post+sidebar-section
    div.container
      div.row
        div.col-md-8
          b:section#posts(showaddelement='no')
            b:widget#Blog1(locked='true', title='Blog Posts', type='Blog')
              b:includable#main(var='top')
                div.blog-posts.hfeed
                  b:include(data='top', name='status-message')/
                  data:defaultAdStart()/
                  b:loop(values='data:posts', var='post')
                    div.post-outer
                      b:include(data='post', name='post')/
                      b:if(cond='data:blog.pageType == "static_page"')
                        b:include(data='post', name='comment_picker')/
                      b:if(cond='data:blog.pageType == "item"')
                        b:include(data='post', name='comment_picker')/
                    b:if(cond='data:post.includeAd')
                      b:if(cond='data:post.isFirstPost')
                        data:defaultAdEnd()/
                        b:else()/
                        data:adEnd()/
                      div.inline-ad
                        data:adCode()/
                      data:adStart()/
                  data:adEnd()/
                b:include(name='nextprev')/
                b:include(name='feedLinks')/
                b:if(cond='data:top.showStars')
                  script(src='//www.google.com/jsapi', type='text/javascript')
                  script(type='text/javascript').
                    google.load("annotations", "1", {"locale": "<data:top.languageCode/>"});
                    function initialize() {
                      google.annotations.setApplicationId(<data:top.blogspotReviews/>);
                      google.annotations.createAll();
                      google.annotations.fetch();
                    }
                    google.setOnLoadCallback(initialize);
                b:if(cond='data:top.showDummy')
                  <data:top.dummyBootstrap/>
              b:includable#nextprev
                ul.pager
                  b:if(cond='data:olderPageUrl')
                    li.previous
                      a(expr:href='data:olderPageUrl', expr:id='data:widget.instanceId + "_blog-older-link"', expr:title='data:olderPageTitle')
                        ← <data:olderPageTitle/>
                  li
                    a(expr:href='data:blog.homepageUrl')
                      <data:homeMsg/>
                  b:if(cond='data:newerPageUrl')
                    li.next
                      a(expr:href='data:olderPageUrl', expr:id='data:widget.instanceId + "_blog-older-link"', expr:title='data:newerPageTitle')
                        <data:newerPageTitle/> →
                b:if(cond='data:mobileLinkUrl')
                  div.blog-mobile-link
                    a(expr:href='data:mobileLinkUrl')
                      data:mobileLinkMsg()/
              b:includable#post(var='post')
                div.post.hentry(itemprop='blogPost', itemscope='itemscope', itemtype='http://schema.org/BlogPosting')
                  b:if(cond='data:post.firstImageUrl')
                    meta(expr:content='data:post.firstImageUrl', itemprop='image_url')
                  meta(expr:content='data:blog.blogId', itemprop='blogId')
                  meta(expr:content='data:post.id', itemprop='postId')
                  a(expr:name='data:post.id')
                  b:if(cond='data:blog.pageType == "static_page"')
                    b:include(data='post', name='breadcrumb')/
                  b:if(cond='data:blog.pageType == "item"')
                    b:include(data='post', name='breadcrumb')/
                  b:if(cond='data:post.title')
                    h1.post-title.entry-title(itemprop='name')
                      b:if(cond='data:post.link')
                        a(expr:href='data:post.link')
                          <data:post.title/>
                        b:else()/
                        b:if(cond='data:post.url')
                          b:if(cond='data:blog.url != data:post.url')
                            a(expr:href='data:post.url')
                              <data:post.title/>
                            b:else()/
                            <data:post.title/>
                          b:else()/
                          <data:post.title/>
                  b:if(cond='data:blog.pageType != "static_page"')
                    b:if(cond='data:blog.pageType != "item"')
                      p.lead.post-author.vcard
                        b:include(data='post', name='post-title')/
                  hr
                  p.post-timestamp
                    i.icon-time
                    | Posted on 
                    b:if(cond='data:post.dateHeader')
                      span.date-header <data:post.dateHeader/>
                    b:if(cond='data:top.showTimestamp')
                      | at <data:post.timestamp/>
                    b:if(cond='data:blog.pageType == "static_page"')
                      span.post-author.vcard
                        b:include(data='post', name='post-title')/
                    b:if(cond='data:blog.pageType == "item"')
                      span.post-author.vcard
                        b:include(data='post', name='post-title')/
                    b:if(cond='data:post.labels')
                      | | Tags:
                      b:loop(values='data:post.labels', var='label')
                        a(expr:href='data:label.url', rel='tag')
                          span.label.label-info
                            <data:label.name/>
                        b:if(cond='data:label.isLast != "true"')
                          span(style='margin: 0 2px')
                  b:if(cond='data:post.url')
                    meta(expr:content='data:post.canonicalUrl', itemprop='url')
                  hr
                  b:if(cond='data:blog.metaDescription == ""')
                    div.post-body.entry-content.clearfix(expr:id='"post-body-" + data:post.id', itemprop='description articleBody')
                      <data:post.body/>
                    b:else()/
                    div.post-body.entry-content.clearfix(expr:id='"post-body-" + data:post.id', itemprop='articleBody')
                      <data:post.body/>
                  b:if(cond='data:post.hasJumpLink')
                    div.jump-link
                      a.btn.btn-primary(expr:href='data:post.url + "#more"', expr:title='data:post.title')
                        <data:post.jumpText/>
                  hr
              b:includable#status-message
                b:if(cond='data:navMessage')
                  div.alert.alert-info(style='text-align: center')
                    data:navMessage()/
              b:includable#breadcrumb(var='post')
                ol.breadcrumb
                  li
                    a(expr:href='data:blog.homepageUrl')
                      <data:homeMsg/>
                  b:if(cond='data:post.labels')
                    b:loop(values='data:post.labels', var='label')
                      li
                        a(expr:href='data:label.url', rel='tag')
                          <data:label.name/>
                        b:if(cond='data:label.isLast != "true"')
                          span(style='margin: 0 2px'), 
                  b:if(cond='data:post.title')
                    li.active <data:post.title/>
              b:includable#post-title(var='post')
                b:if(cond='data:top.showAuthor')
                  | by 
                  b:if(cond='data:post.authorProfileUrl')
                    span.fn(itemprop='author', itemscope='itemscope', itemtype='http://schema.org/Person')
                      a.g-profile(expr:href='data:post.authorProfileUrl', rel='author', title='author profile')
                        span(itemprop='name') <data:post.author/>
                    meta(expr:content='data:post.authorProfileUrl', itemprop='url')
                    b:else()/
                    span.fn(itemprop='author', itemscope='itemscope', itemtype='http://schema.org/Person')
                      span(itemprop='name') <data:post.author/>
        div.col-md-4
          ul.nav.nav-tabs.nav-justified
          b:section(id='sidebar2', preferred='yes')
    script(type='text/javascript', src='//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js')